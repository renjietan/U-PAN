<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="./network.js"></script>
    <script>
        let res = dataRes.data.sort((a, b) => {
            return new Date(b.operation_time).getTime() - new Date(a.operation_time).getTime()
        })
        let types = new Set();
        for (let i in res) {
            types.add(res[i].operation_time + "&&" + res[i].sname + "&&" + res[i].foId)
        }

        let obj = {};
        let arrList = [];
        // 根据type生成多个数组
        for (let k of types) {
            for (let j of res) {
                if (j.operation_time == k.split("&&")[0] && j.sname == k.split("&&")[1] && j.foId == k.split("&&")[2]) {
                    obj[k] = obj[k] || [];
                    obj[k].push(j)
                }
            }
        }
        for (let i in obj) {
            arrList.push(obj[i])
        }
        console.log(arrList)
        console.log(obj)

        function parserArray(arr, keyList) {
            let map = {},
                dest = [];
            let keyName = keyList[0]
            let keyTime = keyList[1]
            for (let i of arr) {
                if (!map[i[keyName]] && !map[i[keyTime]]) {
                    dest.push({
                        [keyTime]: i[keyTime],
                        [keyName]: i[keyName],
                        data: [i]
                    });
                    map[i[keyName]] = i;
                } else {
                    for (let j of dest) {
                        if (j[keyName] == i[keyName] && j[keyTime] == i[keyTime]) {
                            j.data.push(i);
                            break;
                        }
                    }
                }
            }
            return dest
        }

        function parser(arr, key) {
            let map = {},
                dest = [];
            for (let i of arr) {
                if (!map[i[key]]) {
                    dest.push({
                        [key]: i[key],
                        data: [i]
                    });
                    map[i[key]] = i;
                } else {
                    for (let j of dest) {
                        if (j[key] == i[key]) {
                            j.data.push(i);
                            break;
                        }
                    }
                }
            }
            return dest
        }
    </script>
</head>

<body>
</body>

</html>